# 대규모 서비스의 특성
#### 어떻게 대규모 서비스를 구축해야 할까?

대규모 서비스가 가져야 할 특성
#### 1 확장성
````JAVA
 - 서버를 추가하고, cpu, volume 등을 줄이고 늘리고 제거하는데 유연해야 한다.
   ex) 웹서버, DB서버
````
#### 2. 장애회복성
````JAVA
 - 서비스에 장애가 났을때 가능한 자동적으로 회복 되어야 한다.
 - 서비스 중인 API서버 한,두대가 장애가 나도 서비스가 지속 될수 있어야함.
 - 장애회복성을 위해서는 SPOF(Single Point of Failure) 가 없어야 한다.
 - SPOF란 특정 지점에 장애가 발생하면 전체 서비스에 장애를 낼수 있는 부분을 뜻한다.
 - SPOF를 없애려면 모든 부분(웹서버, db서버, 스위치, 라우터)에서 최소 이중화가 되어야 한다.
 - Network의 Bandwidth 한계
  > 각 서버는 스위치에 물려 있음. 스위치에서 제공하는 capacity를 넘어가는 순간부터 패킷드랍 발생(통신이 안되는 경우도 있음)
 - switch 에서 장애
  > 스위치가 장애가 나면, 연결된 모든 서버와의 통신이 막힌다. 따라서 스위치도 이중화가 필요하다.
 - 즉, 최대한 SPOF를 죽이는것이 가장 중요하다.
   ex) failover, db replication
````
#### 3. 자동화
````JAVA
 - 확장성/장애회복성 이 자동화를 통해 이루어 져야 한다.
 - 서비스 운영의 많은 부분이 자동화가 되어야 한다.(사람이 하면 실수의 여지가 있음)
 - Iac(Infrastructure as a code) 가 중요하다.
   ex) 테라폼, 앤시블 등등
````
4. 모니터링
````JAVA
 - 어떤 부분에서 오류가 나는지 캐치해야하고, 고쳐야 한다.
````


